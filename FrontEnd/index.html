<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Metadatos y enlaces de estilos -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/main.css">
  <title>Document</title>
</head>
<body>
  <!-- Contenedor principal -->
  <div class="contenedor">
    <!-- Encabezado de la página -->
    <header>
      <h1>Informacion de IP</h1>
    </header>

    <!-- Sección principal con el formulario -->
    <main>
      <!-- Formulario para ingresar la dirección IP -->
      <form id="ipForm">
        <div class="barra-busqueda">
          <!-- Campo de entrada para la dirección IP -->
          <input type="text" id="ipInput" placeholder="Ingrese la dirección IP..." />
          <!-- Botón para enviar el formulario -->
          <button type="button" onclick="sendIP()">Buscar</button>
        </div>
      </form>
    </main>

    <!-- Sección de tarjetas (tu código actual) -->

    <!-- Pie de página -->
    <footer>
      <h5>Derechos reservados</h5>
    </footer>
  </div>

  <!-- Script JavaScript para enviar la dirección IP al servidor -->
  <script>
    function sendIP() {
      // Obtener el valor de la dirección IP ingresada por el usuario
      var ipValue = document.getElementById("ipInput").value;

      // Enviar la dirección IP al servidor mediante una solicitud POST
      fetch("http://127.0.0.1:8000/process_ip", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({ "ip": ipValue }), // Convertir a formato JSON
      })
        .then(response => response.json()) // Convertir la respuesta a JSON
        .then(data => {
          // Manejar la respuesta del servidor aquí (puedes actualizar las tarjetas, etc.)
          console.log(data);
        })
        .catch(error => {
          // Manejar errores de la solicitud
          console.error("Error:", error);
        });
    }
  </script>
</body>
</html>
